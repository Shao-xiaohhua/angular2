<style>
</style>
<div [formGroup]="form" [class.has-error]="!isValid">
  <div class="form-group">
    <label [attr.for]="_widget.fieldName">{{_widget.label}}</label>
    <span *ngIf="!isValid && (isDirty || isTouched)" class="control-label">&nbsp;&nbsp; 不能为空</span>
    <div class="input-group">
      <ng-container *ngFor="let entity of entityList">
        <span class="btn btn-default">
          {{entity.name}}
        </span>
        <button type="button" class="btn btn-default" (click)="removeEntity(entity.id)">
          <i class="fa fa-times"></i>
        </button>&nbsp;
      </ng-container>

      <button type="button" class="btn btn-default" (click)="doSelectEntity()">
        <ng-container *ngIf="array; then multi else single"></ng-container>
        <ng-template #multi>
          <i class="fa fa-plus"></i>
        </ng-template>
        <ng-template #single>
          <i class="fa fa-gear"></i>
        </ng-template>
      </button>
    </div>
    <div #selectContainer></div>
    <input type="hidden" [(ngModel)]="form.value[_widget.fieldName]" [id]="_widget.fieldName" [formControlName]="_widget.fieldName"
    />
  </div>
</div>